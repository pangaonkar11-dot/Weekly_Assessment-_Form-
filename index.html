<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Weekly Home Improvement Assessment Questionnaire</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.5; }
  h2 { color: #2a4d69; }
  fieldset { margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; }
  legend { font-weight: bold; }
  label { display: block; margin-top: 10px; }
  .scale-table { border-collapse: collapse; width: 100%; margin-top: 10px; }
  .scale-table th, .scale-table td { border: 1px solid #ccc; padding: 5px; text-align: center; }
  .required::after { content: " *"; color: red; }
  button { padding: 10px 20px; background: #2a4d69; color: white; border: none; cursor: pointer; }
  button:hover { background: #1e354a; }
  .note { font-size: 0.9em; color: #444; }
</style>
</head>
<body>

<h2>Weekly Home Improvement Assessment Questionnaire<br>
साप्ताहिक गृह सुधार मूल्यांकन प्रश्नावली<br>
साप्ताहिक गृह सुधार मूल्यांकन प्रश्नावली</h2>

<fieldset>
<legend>Scale Description / पैमाना विवरण / मापक वर्णन</legend>
<ul>
<li>1 – No improvement / कोई सुधार नहीं / कोणतीही सुधारणा नाही</li>
<li>2 – Slight improvement / हल्का सुधार / थोडी सुधारणा</li>
<li>3 – Moderate improvement / मध्यम सुधार / मध्यम सुधारणा</li>
<li>4 – Significant improvement / महत्वपूर्ण सुधार / महत्त्वाची सुधारणा</li>
<li>5 – Excellent improvement / उत्कृष्ट सुधार / उत्कृष्ट सुधारणा</li>
</ul>
</fieldset>

<fieldset>
<legend>Instructions / निर्देश / सूचना</legend>
<ul>
<li>Please rate each item based on your child’s change over the past 7 days.<br>
कृपया पिछले 7 दिनों में आपके बच्चे में परिवर्तन के आधार पर प्रत्येक आइटम का मूल्यांकन करें.<br>
कृपया मागील 7 दिवसांत आपल्या मुलामध्ये झालेल्या बदलांनुसार प्रत्येक आयटमचे मूल्यांकन करा.</li>
<li>All fields marked with * are mandatory.<br>
अंकित सभी फ़ील्ड अनिवार्य हैं.<br>
चिन्हांकित सर्व फील्ड अनिवार्य आहेत.</li>
<li>Answer honestly; your responses help us track progress and plan support.<br>
ईमानदारी से उत्तर दें; आपके उत्तर हमें प्रगति ट्रैक करने और सहायता योजना बनाने में मदद करते हैं.<br>
प्रामाणिकपणे उत्तर द्या; आपल्या प्रतिसादांमुळे आम्हाला प्रगती ट्रॅक करण्यात आणि सहाय्य योजना बनवण्यात मदत होते.</li>
</ul>
</fieldset>

<form id="assessmentForm">
<fieldset>
<legend>Personal Details / व्यक्तिगत विवरण / व्यक्तिगत तपशील</legend>
<label class="required">C-file number: <input type="text" name="cfile" required></label>
<label class="required">Registration number: <input type="text" name="regnum" required></label>
<label class="required">Child’s first name: <input type="text" name="childfname" required></label>
<label class="required">Surname: <input type="text" name="surname" required></label>
<label class="required">Father’s name: <input type="text" name="father" required></label>
<label class="required">Mother’s name: <input type="text" name="mother" required></label>
<label class="required">Date of birth: <input type="date" name="dob" required></label>
<label class="required">Caregiver/parent email ID: <input type="email" name="email" required></label>
<label class="required">Date of filling this form: <input type="date" name="formdate" required></label>
</fieldset>

<fieldset>
<legend>Section A: Improvement Ratings (Past 7 Days)</legend>
<table class="scale-table">
<tr>
<th>Area</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th>
</tr>
<tr><td>Overall improvement / समग्र सुधार / एकूण सुधार</td>
<td><input type="radio" name="overall" value="1" required></td>
<td><input type="radio" name="overall" value="2"></td>
<td><input type="radio" name="overall" value="3"></td>
<td><input type="radio" name="overall" value="4"></td>
<td><input type="radio" name="overall" value="5"></td></tr>

<tr><td>Behavioural improvement / व्यवहार में सुधार / वर्तनात सुधार</td>
<td><input type="radio" name="behaviour" value="1" required></td>
<td><input type="radio" name="behaviour" value="2"></td>
<td><input type="radio" name="behaviour" value="3"></td>
<td><input type="radio" name="behaviour" value="4"></td>
<td><input type="radio" name="behaviour" value="5"></td></tr>

<tr><td>Appetite / भूख / भूक</td>
<td><input type="radio" name="appetite" value="1" required></td>
<td><input type="radio" name="appetite" value="2"></td>
<td><input type="radio" name="appetite" value="3"></td>
<td><input type="radio" name="appetite" value="4"></td>
<td><input type="radio" name="appetite" value="5"></td></tr>

<tr><td>Sleep quality / नींद की गुणवत्ता / झोपेची गुणवत्ता</td>
<td><input type="radio" name="sleep" value="1" required></td>
<td><input type="radio" name="sleep" value="2"></td>
<td><input type="radio" name="sleep" value="3"></td>
<td><input type="radio" name="sleep" value="4"></td>
<td><input type="radio" name="sleep" value="5"></td></tr>

<tr><td>Toilet habits / शौच संबंधी आदतें / शौचक्रिया सवयी</td>
<td><input type="radio" name="toilet" value="1" required></td>
<td><input type="radio" name="toilet" value="2"></td>
<td><input type="radio" name="toilet" value="3"></td>
<td><input type="radio" name="toilet" value="4"></td>
<td><input type="radio" name="toilet" value="5"></td></tr>

<tr><td>Academic performance / शैक्षणिक प्रगति / शैक्षणिक प्रगती</td>
<td><input type="radio" name="academic" value="1" required></td>
<td><input type="radio" name="academic" value="2"></td>
<td><input type="radio" name="academic" value="3"></td>
<td><input type="radio" name="academic" value="4"></td>
<td><input type="radio" name="academic" value="5"></td></tr>

<tr><td>Social interaction / सामाजिक व्यवहार / सामाजिक संवाद</td>
<td><input type="radio" name="social" value="1" required></td>
<td><input type="radio" name="social" value="2"></td>
<td><input type="radio" name="social" value="3"></td>
<td><input type="radio" name="social" value="4"></td>
<td><input type="radio" name="social" value="5"></td></tr>
</table>
</fieldset>

<fieldset>
<legend>Section B: Physical Problems Severity (Past 7 Days)</legend>
<p>1 – None / नहीं / नाही | 2 – Mild / हल्का / सौम्य | 3 – Moderate / मध्यम / मध्यम | 4 – Severe / गंभीर / तीव्र | 5 – Very severe / बहुत गंभीर / खूप तीव्र</p>
<table class="scale-table">
<tr>
<th>Symptom</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th>
</tr>
<tr><td>Headache / सिरदर्द / डोकेदुखी</td>
<td><input type="radio" name="headache" value="1" required></td>
<td><input type="radio" name="headache" value="2"></td>
<td><input type="radio" name="headache" value="3"></td>
<td><input type="radio" name="headache" value="4"></td>
<td><input type="radio" name="headache" value="5"></td></tr>

<tr><td>Body pain / पूरे शरीर में दर्द / संपूर्ण शरीर वेदना</td>
<td><input type="radio" name="bodypain" value="1" required></td>
<td><input type="radio" name="bodypain" value="2"></td>
<td><input type="radio" name="bodypain" value="3"></td>
<td><input type="radio" name="bodypain" value="4"></td>
<td><input type="radio" name="bodypain" value="5"></td></tr>

<tr><td>Nausea / जी मिचलाना / मळमळ</td>
<td><input type="radio" name="nausea" value="1" required></td>
<td><input type="radio" name="nausea" value="2"></td>
<td><input type="radio" name="nausea" value="3"></td>
<td><input type="radio" name="nausea" value="4"></td>
<td><input type="radio" name="nausea" value="5"></td></tr>

<tr><td>Dizziness / चक्कर आना / गरगरणे</td>
<td><input type="radio" name="dizziness" value="1" required></td>
<td><input type="radio" name="dizziness" value="2"></td>
<td><input type="radio" name="dizziness" value="3"></td>
<td><input type="radio" name="dizziness" value="4"></td>
<td><input type="radio" name="dizziness" value="5"></td></tr>

<tr><td>Fatigue / थकान / थकवा</td>
<td><input type="radio" name="fatigue" value="1" required></td>
<td><input type="radio" name="fatigue" value="2"></td>
<td><input type="radio" name="fatigue" value="3"></td>
<td><input type="radio" name="fatigue" value="4"></td>
<td><input type="radio" name="fatigue" value="5"></td></tr>
</table>
</fieldset>

<fieldset>
<legend>Additional Remarks / अतिरिक्त टिप्पणियाँ / अतिरिक्त निरीक्षण</legend>
<textarea name="remarks" rows="4" cols="80" placeholder="Write here / यहां लिखें / येथे लिहा"></textarea>
<p class="note">After submitting, a WhatsApp window will open so you can send a copy of your responses to our institutional number.</p>
</fieldset>

<button type="submit" id="submitBtn">Submit / जमा करें / सादर करा</button>
</form>

<script>
/* ====== CONFIG (EDIT THESE TWO LINES) ====== */
const scriptURL = 'YOUR_WEB_APP_URL_HERE'; // <-- PASTE your Apps Script Web App URL here
const INSTITUTION_PHONE = '917620085231';  // <-- WhatsApp number in international format (no + sign)
/* ====== END CONFIG ====== */

const form = document.getElementById('assessmentForm');
const submitBtn = document.getElementById('submitBtn');

form.addEventListener('submit', function (e) {
  e.preventDefault();
  if (!scriptURL || scriptURL.includes('YOUR_WEB_APP_URL_HERE')) {
    alert('Configuration error: Please edit the file and paste your Apps Script Web App URL.');
    return;
  }
  submitBtn.disabled = true;
  submitBtn.textContent = 'Submitting...';

  const fd = new FormData(form);

  // Build a readable summary for WhatsApp
  let waMessage = 'Weekly Assessment - Responses:\n';
  for (const [k, v] of fd.entries()) {
    waMessage += k + ': ' + v + '\n';
  }

  // Submit to Apps Script (as application/x-www-form-urlencoded)
  const params = new URLSearchParams();
  for (const [k, v] of fd.entries()) params.append(k, v);

  fetch(scriptURL, {
    method: 'POST',
    body: params
  })
  .then(async (response) => {
    try {
      return await response.json();
    } catch (e) {
      return { status: 'ok' };
    }
  })
  .then(res => {
    // Open WhatsApp with prefilled message; user must press SEND
    const waUrl = 'https://wa.me/' + INSTITUTION_PHONE + '?text=' + encodeURIComponent(waMessage);
    window.open(waUrl, '_blank');
    alert('Thank you — your form is submitted. A WhatsApp window/tab has opened. Please press SEND in WhatsApp to deliver a copy to our number.');
    form.reset();
  })
  .catch(err => {
    console.error('Submit error:', err);
    alert('Submission failed. You can still send a copy manually to WhatsApp: +91 76200 85231. Please save your responses and try again later.');
  })
  .finally(() => {
    submitBtn.disabled = false;
    submitBtn.textContent = 'Submit / जमा करें / सादर करा';
  });
});
</script>

</body>
</html>